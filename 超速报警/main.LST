C51 COMPILER V9.00   MAIN                                                                  05/22/2016 00:43:48 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: E:\software\DevelopmentSoftware\InstallSrc\KeilC51\C51\BIN\C51.EXE main.c COMPACT BROWSE DEBUG OBJE
                    -CTEXTEND

line level    source

   1          #include "stc15.h"
   2          #include "Timer.h"
   3          
   4          #include "LCD12864.H"    //
   5          
   6          #include "DHT11.h"                                //DHT11没有初始化程序
   7          
   8          //#include "Temperature.h"
   9          //#include "Wifi.h"
  10          #include "Delay.h"
  11          
  12          //#include "Force.h"
  13          //#include "Camera.h"
  14          #include "UART.h"
  15          #include "UltraSound.h"
  16          
  17          #include "main.h"
  18          
  19          unsigned char code StrHello[]="HELLOWORLD!";  
  20          unsigned char DHT11ISREADY;
  21          unsigned char ULTRAISREADY;
  22          
  23          void port_mode()            // 端口模式
  24          {
  25   1              P0M1=0x00; P0M0=0x00;P1M1=0x00; P1M0=0x00;P2M1=0x00; P2M0=0x00;P3M1=0x00; P3M0=0x00;
  26   1              P4M1=0x00; P4M0=0x00;P5M1=0x00; P5M0=0x00;P6M1=0x00; P6M0=0x00;P7M1=0x00; P7M0=0x00; 
  27   1      }
  28          
  29          void main()
  30          {       
  31   1          //UARTInit();
  32   1      
  33   1          DHT11ISREADY = 0;
  34   1              ULTRAISREADY = 0;
  35   1      
  36   1              UltraSoundInit();
  37   1      
  38   1          port_mode();
  39   1          Delay1000ms();
  40   1          Delay1000ms();
  41   1          Delay1000ms();   
  42   1          Lcm_Init();
  43   1      
  44   1              //Timer4Init();         //超声波  1s   它还内部使用Timer1
  45   1              //EnableTimer4();
  46   1              Timer0Init();             //DHT11       2s
  47   1              EA = 1;     
  48   1          
  49   1              /*Delay1000ms();          // LCD上电延时
  50   1              
  51   1              port_mode();          // 所有IO口设为准双向弱上拉方式。
  52   1              Delay1000ms();            // LCD上电延时
  53   1              Lcm_Init();
  54   1              */
C51 COMPILER V9.00   MAIN                                                                  05/22/2016 00:43:48 PAGE 2   

  55   1              Display_String(1,StrHello);                        
  56   1              while(1)
  57   1              {       
  58   2                      if(DHT11ISREADY)
  59   2                      {
  60   3                              DisplayDHT11();                         //读取温度湿度传感器值
  61   3                              DHT11ISREADY = 0;
  62   3                      }
  63   2                      else if(ULTRAISREADY)
  64   2                      {
  65   3                              UltraSoundDisplay();                     //超声波
  66   3                              ULTRAISREADY = 0;
  67   3                      }
  68   2                      else ;
  69   2              }
  70   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    102    ----
   CONSTANT SIZE    =     12    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =      2    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
